{"version":3,"sources":["Carousel.js","ErrorBoundary.js","Details.js"],"names":["Carousel","Component","active","event","setState","target","dataset","index","render","state","images","props","console","log","map","photo","handleEventClick","ErrorBoundary","hasError","redirect","getDerivedStateFromError","componentDidCatch","error","info","setTimeout","children","Modal","Details","loading","showModal","window","location","componentDidMount","res","fetch","match","params","id","json","Object","assign","pets","animal","breed","city","description","name","theme","toggleModal","backgroundColor","adopt","DetailsWithRouter","DetailsWithErrorBoundary"],"mappings":";;;;;;;AAAA,AEAA,ADAA;;ACCA,ADAA;;ACEA;;AACA;;AACA,ADFA,MAAMiB,aAAN,SAA4BhB,gBAA5B,CAAsC;AAAA;ADDvB,ACCuB,MDDjBD,QAAN,SAAuBC,gBAAvB,CAAiC;AAAA;AAAA,ACCV,mCAC7B;AAAEiB,MAAAA,QAAQ,EAAE,KAAZ;ADFuC,ACEpBC,MAAAA,QAAQ,EAAE,mBDD7B;AAAEjB,ACCF,KAD6B,CDA3BA,MAAM,EAAE;AAAV,AEGT,ADHsC,KDDU,CEI1CwB,KAAK;AAAA;AFJqC,AEIlC,ADAb,SAAON,QCAW,MAAM,UDAxB,GAAkC,UDGdjB,KAAD,IAAW,UEHC,SAAP,EAAX,CAAd;AFIE,ACHA,WDGKC,ACHE,QDGP,CAAc;AACbF,AEJH,ADAWgB,MCALS,ADAKT,EDIRhB,KEJH,CFIS,ACJU,EDIR,ACJU,CDITC,KAAK,AEJKF,CFIJI,MAAN,CAAaC,OAAb,CAAqBC,AEJjC,CAAgC;AFGhB,AEHgB,ADAvB,KAAP,EDGA;AAGA,AEN8B,ADC9B,KDN8C;AAAA;AEKhB,ADG/Bc,EAAAA,iBAAiB,CAACC,KAAD,EAAQC,IAAR,EAAc,ECFpB;AFOXf,AEPaoB,ADGZ,EDIDpB,IEPaoB,EFOP,ACJD,GDII,EEPW,ADGVnB,ECHY,GDGjB,CCHM,ADGKS,QAAf,EAAyB;ADKzB,AER2BW,ADI1BL,MCJ0BK,ADI1BL,IDIK,KER8B,CDIzB,CCJ2B,ADI1B,MAAM,KAAKpB,QAAL,CAAc;ADIxBF,AERE,ADIwBiB,KCLJ,CFStBjB,ECJ0BiB,QAAQ,EAAE;ADItC,ACJ0B,OAAd,CDIC,ACJR,EAA0C,GDI7BV,CCJb,CAAV,GDID;AACA,AEV8B,ADM7B,UDIK,+BECU,MAAM,KAAKL,QAAL,CAAc;AFD5BM,AEC8BmB,MFD9BnB,AEC8BmB,SAAS,EAAE,CAAC,KAAKpB,KAAL,CAAWoB;AFDvD,AEC8B,ADJpCjB,IAAAA,CCIsB,CAXQ,EFUX,GCHZ,CAACC,CDGgBF,ECHxB,CAAY,EDGZ,6BCHA,EAA6CW,KAA7C,EAAoDC,IAApD;ADIAX,ACHA,IDGAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,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","file":"Details.180b8e97.js","sourceRoot":"../src","sourcesContent":["import React, { Component } from \"react\";\n\nexport default class Carousel extends Component {\n state = { active: 0 };\n\n static defaultProps = {\n  images: [\"http://pets-images.dev-apis.com/pets/none.jpg\"],\n };\n\n handleEventClick = (event) => {\n  this.setState({\n   active: +event.target.dataset.index,\n  });\n };\n\n render() {\n  const { active } = this.state;\n  const { images } = this.props;\n  console.log(images);\n  return (\n   <div className=\"carousel\">\n    <img src={images[active]} alt=\"animal\" />\n    <div className=\"carousel-smaller\">\n     {images.map((photo, index) => (\n      // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-noninteractive-element-interactions\n      <img\n       key={photo}\n       src={photo}\n       data-index={index}\n       onClick={this.handleEventClick}\n       className={index === active ? \"active\" : \"\"}\n       alt=\"animal thumbnail\"\n      />\n     ))}\n    </div>\n   </div>\n  );\n }\n}\n","import { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nclass ErrorBoundary extends Component {\n state = { hasError: false, redirect: false };\n\n static getDerivedStateFromError() {\n  return { hasError: true };\n }\n\n componentDidCatch(error, info) {\n  if (this.state.hasError) {\n   setTimeout(() => this.setState({ redirect: true }), 5000);\n  }\n  console.log(\"ErrorBoundary caught an error\", error, info);\n }\n\n render() {\n  if (this.state.redirect) {\n   return <Redirect to=\"/\" />;\n  } else if (this.state.hasError) {\n   return (\n    <h2>\n     This listing has an error. <Link to=\"/\">Click here</Link> to go back to the\n     home pages or wait for 5 seconds.\n    </h2>\n   );\n  }\n  return this.props.children;\n }\n}\n\nexport default ErrorBoundary;\n","import { Component, lazy } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport Carousel from \"./Carousel\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport ThemeContext from \"./ThemeContext\";\nconst Modal = lazy(() => import(\"./Modal\"))\nclass Details extends Component {\n    state = { loading: true, showModal: false };\n\n    async componentDidMount() {\n        const res = await fetch(\n            `http://pets-v2.dev-apis.com/pets?id=${this.props.match.params.id}`\n        );\n        const json = await res.json();\n        this.setState(Object.assign({ loading: false, showModal: false }, json.pets[0]));\n    }\n\n    toggleModal = () => this.setState({ showModal: !this.state.showModal });\n    adopt = () => (window.location = 'http://bit.ly/pet-adopt')\n\n    render() {\n        // throw new Error('Now')\n        if (this.state.loading) {\n            return <h2>loading...</h2>;\n        }\n        const { animal, breed, city, state, description, name, images, showModal } = this.state;\n        return (\n            <div className=\"details\">\n                <Carousel images={images} />\n                <div>\n                    <h1>{name}</h1>\n                    <h2>\n                        {animal} - {breed} - {city}, {state}\n                    </h2>\n                    <ThemeContext.Consumer>\n                        {([theme]) => (\n                            <button onClick={this.toggleModal} style={{ backgroundColor: theme }}> Adopt {name}</button>\n                        )}\n                    </ThemeContext.Consumer>\n                    <p>{description}</p>\n                </div>\n                {showModal ? (\n                    <Modal>\n                        <div>\n                            <h2>Would you like to adopt {name}?</h2>\n                            <div className=\"buttons\">\n                                <button onClick={this.adopt} >Yes</button>\n                                <button onClick={this.toggleModal} >No</button>\n                            </div>\n                        </div>\n                    </Modal>\n                ) : null}\n            </div>\n        );\n    }\n}\nconst DetailsWithRouter = withRouter(Details);\n\nexport default function DetailsWithErrorBoundary() {\n    return (\n        <ErrorBoundary>\n            <DetailsWithRouter />\n        </ErrorBoundary>\n    );\n}\n"]}